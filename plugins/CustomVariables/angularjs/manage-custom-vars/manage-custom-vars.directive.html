<div class="manageCustomVars">
    <h2 piwik-enriched-headline>{{ 'CustomVariables_CustomVariables'|translate }}</h2>

    {{ 'CustomVariables_ManageDescription'|translate }}

    <br />

    <h3>{{ customVariables.scope }}</h3>
    <table class="dataTable entityTable" style="max-width: 900px;">
        <thead>
        <tr>
            <th>{{'CustomVariables_Scope'|translate }}</th>
            <th>{{'CustomVariables_Index'|translate }}</th>
            <th>{{'CustomVariables_Usages'|translate }}</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td colspan="3" ng-show="manageCustomVars.model.isLoading">{{ 'General_Loading'|translate }}</td>
        </tr>
        <tr ng-repeat="customVariables in manageCustomVars.model.customVariables">
            <td class="scope">{{ customVariables.scope|ucfirst }}</td>
            <td class="index">{{ customVariables.index }}</td>
            <td>
                <span ng-show="(customVariables.usages|length) === 0"
                      class="unused">{{'CustomVariables_Unused'|translate }}</span>
                <span ng-show="customVariables.usages|length" ng-repeat="cvar in customVariables.usages|orderBy:'-nb_actions'">
                    <span title="{{ 'CustomVariables_UsageDetails'|translate:cvar.nb_visits:cvar.nb_actions }}">{{ cvar.name }}</span><span ng-show="!$last">, </span>
                </span>
            </td>
        </tr>
        </tbody>
    </table>

    <br/>
    <a class="btn addCustomVar" ng-show="!manageCustomVars.model.isLoading" value=""
       ng-click="manageCustomVars.createCustomVariableSlot()"
            >{{ 'CustomVariables_CreateNewSlot'|translate }} <span class="icon-info"></span></a><br/>


</div>